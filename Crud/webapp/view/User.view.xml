<mvc:View
    controllerName="sap.ui.core.tutorial.odatav4.controller.App"
    displayBlock="true"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:mvc="sap.ui.core.mvc">

    <Page title="{i18n>peoplePageTitle}" showNavButton="true" navButtonPress=".onNavBack">
        <content>
            <Table
                id="peopleList"
                growing="true"
                growingThreshold="10"
                items="{
                    path: '/People',
                    parameters: {
                        $count: true,
                        $$updateGroupId : 'peopleGroup'
                    }
                }"
                mode="SingleSelectLeft">
                <headerToolbar>
                    <OverflowToolbar>
                        <content>
                            <ToolbarSpacer />
                            <ComboBox
                                id="statusFilterComboBox"
                                width="20%"
                                items="{/People}"
                                selectedKey="{appView>/selectedStatusFilter}"
                                placeholder="{i18n>searchFieldPlaceholder}"
                                enabled="{= !${appView>/hasUIChanges}}"
                                change=".onStatusFilterChange">
                                <core:ListItem
                                    key="{= ${path:'FirstName'} + ' ' + ${path:'LastName'}}"
                                    text="{= ${path:'FirstName'} + ' ' + ${path:'LastName'}}" />
                            </ComboBox>


                            <SearchField
                                id="searchField"
                                width="20%"
                                placeholder="{i18n>searchFieldPlaceholder}"
                                enabled="{= !${appView>/hasUIChanges}}"
                                search=".onSearch" />
                            <SearchField
                                id="firstNameSearchField"
                                width="20%"
                                placeholder="LastName"
                                enabled="{= !${appView>/hasUIChanges}}"
                                liveChange=".onFirstNameSearch" />
                            <Button
                                id="deleteUserButton"
                                icon="sap-icon://delete"
                                tooltip="{i18n>deleteButtonText}"
                                press=".onDelete">
                                <layoutData>
                                    <OverflowToolbarLayoutData priority="NeverOverflow" />
                                </layoutData>
                            </Button>

                            <Button
                                id="addUserButton"
                                icon="sap-icon://add"
                                tooltip="{i18n>createButtonText}"
                                press=".onCreate">
                                <layoutData>
                                    <OverflowToolbarLayoutData priority="NeverOverflow" />
                                </layoutData>
                            </Button>

                            <Button
                                id="refreshUsersButton"
                                icon="sap-icon://refresh"
                                tooltip="{i18n>refreshButtonText}"
                                enabled="{= !${appView>/hasUIChanges}}"
                                press=".onRefresh" />

                            <Button
                                id="addUserButtons"
                                icon="sap-icon://add"
                                tooltip="{i18n>createButtonText}"
                                press=".onCreateCustomer">
                                <layoutData>
                                    <OverflowToolbarLayoutData priority="NeverOverflow" />
                                </layoutData>
                            </Button>
                            <!-- <Button
                            id="addUserPopupButtons"
                            icon="sap-icon://add"
                            tooltip="{i18n>createButtonText}"
                            press=".onPopupCreateCustomer">
                            <layoutData>
                                <OverflowToolbarLayoutData priority="NeverOverflow" />
                            </layoutData>
                        </Button> -->
                        </content>
                    </OverflowToolbar>
                </headerToolbar>
                <columns>
                    <Column id="userNameColumn">
                        <Text text="{i18n>userNameLabelText}" />
                    </Column>
                    <Column id="firstNameColumn">
                        <Text text="{i18n>firstNameLabelText}" />
                    </Column>
                    <Column id="lastNameColumn">
                        <Text text="{i18n>lastNameLabelText}" />
                    </Column>
                    <Column id="ageColumn">
                        <Text text="{i18n>ageLabelText}" />
                    </Column>
                </columns>
                <items>
                    <ColumnListItem type="Navigation" press=".onPress">
                        <cells>
                            <Input value="{UserName}"
                                valueLiveUpdate="true"
                                liveChange=".onInputChange" />
                        </cells>
                        <cells>
                            <Input value="{FirstName}"
                                liveChange=".onInputChange" />

                        </cells>
                        <cells>
                            <Input value="{LastName}"
                                liveChange=".onInputChange" />

                        </cells>
                        <cells>
                            <Input value="{Age}"
                                valueLiveUpdate="true"
                                liveChange=".onInputChange" />
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>
        </content>
        <footer>
            <Toolbar visible="{appView>/hasUIChanges}">
                <ToolbarSpacer />
                <Button
                    id="saveButton"
                    type="Emphasized"
                    text="{i18n>saveButtonText}"
                    enabled="{= ${message>/}.length === 0 &amp;&amp; ${appView>/usernameEmpty} === false }"
                    press=".onSave" />
                <Button
                    id="doneButton"
                    text="{i18n>cancelButtonText}"
                    press=".onResetChanges" />
            </Toolbar>
        </footer>

    </Page>

</mvc:View>